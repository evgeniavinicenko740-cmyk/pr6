
students = {
    "–≥—Ä—É–ø–∞": "–ö–Ü-23",
    "–∫—É—Ä—Å": 2,
    "—Å—Ç—É–¥–µ–Ω—Ç–∏": [
        {
            "–ü–Ü–ë": "–Ü–≤–∞–Ω–µ–Ω–∫–æ –Ü–≤–∞–Ω –Ü–≤–∞–Ω–æ–≤–∏—á",
            "–ø—Ä–µ–¥–º–µ—Ç–∏": {"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": 90, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è": 85, "–§—ñ–∑–∏–∫–∞": 78}
        },
        {
            "–ü–Ü–ë": "–ü–µ—Ç—Ä–µ–Ω–∫–æ –û–ª–µ–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞",
            "–ø—Ä–µ–¥–º–µ—Ç–∏": {"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": 95, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è": 88, "–§—ñ–∑–∏–∫–∞": 80}
        },
        {
            "–ü–Ü–ë": "–°–∏–¥–æ—Ä–µ–Ω–∫–æ –ê–Ω–¥—Ä—ñ–π –ü–µ—Ç—Ä–æ–≤–∏—á", #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
            "–ø—Ä–µ–¥–º–µ—Ç–∏": {"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": 82, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è": 91, "–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞": 88}
        },
        {
            "–ü–Ü–ë": "–ö–æ–≤–∞–ª—å—á—É–∫ –ú–∞—Ä—ñ—è –Ü–≤–∞–Ω—ñ–≤–Ω–∞", #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
            "–ø—Ä–µ–¥–º–µ—Ç–∏": {"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": 88, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è": 79, "–§—ñ–∑–∏–∫–∞": 92}
        },
        {
            "–ü–Ü–ë": "–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ –î–º–∏—Ç—Ä–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
            "–ø—Ä–µ–¥–º–µ—Ç–∏": {"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞": 70, "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è": 75, "–§—ñ–∑–∏–∫–∞": 68}
        }
    ]
}

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –¥–æ —Å–ª–æ–≤–Ω–∏–∫–∞
def add_student(students_dict):
    try:
        pib = input("–í–≤–µ–¥—ñ—Ç—å –ü–Ü–ë —Å—Ç—É–¥–µ–Ω—Ç–∞: ")
        subjects = {}
        n = int(input("–í–≤–µ–¥—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ñ–≤: "))
        for i in range(n):
            subject = input(f"–ù–∞–∑–≤–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ {i+1}: ")
            grade = int(input(f"–û—Ü—ñ–Ω–∫–∞ –∑–∞ –ø—Ä–µ–¥–º–µ—Ç '{subject}': "))
            subjects[subject] = grade

        new_student = {"–ü–Ü–ë": pib, "–ø—Ä–µ–¥–º–µ—Ç–∏": subjects}
        students_dict["—Å—Ç—É–¥–µ–Ω—Ç–∏"].append(new_student)
        print("\n‚úÖ –ù–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!\n")

    except ValueError:
        print("‚ùå –ü–æ–º–∏–ª–∫–∞: –æ—Ü—ñ–Ω–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ —á–∏—Å–ª–æ–º.")
    except Exception as e:
        print(f"‚ùå –°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞: {e}")

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤—Å—ñ—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ —ñ —ó—Ö–Ω—ñ—Ö –æ—Ü—ñ–Ω–æ–∫
def display_students(students_dict):
    print(f"\n–ì—Ä—É–ø–∞: {students_dict['–≥—Ä—É–ø–∞']} | –ö—É—Ä—Å: {students_dict['–∫—É—Ä—Å']}\n")
    for s in students_dict["—Å—Ç—É–¥–µ–Ω—Ç–∏"]:
        print(f"–ü–Ü–ë: {s['–ü–Ü–ë']}")
        for subj, grade in s["–ø—Ä–µ–¥–º–µ—Ç–∏"].items():
            print(f"  {subj}: {grade}")
        print("-" * 25)

# --- –ö–æ–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞ ‚Ññ2 (–¢–æ–∫–∞—Ä—î–≤ –ê—Ä—Ç–µ–º) ---

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∑–∞ –ü–Ü–ë (–∑–∞–≤–¥–∞–Ω–Ω—è –≤—ñ–¥ 1-–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞)
def sort_students_by_name(students_dict):
    """–°–æ—Ä—Ç—É—î —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∑–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º —Ç–∞ –æ–¥—Ä–∞–∑—É –≤–∏–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç."""

    # –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –ª—ñ—Ç–µ—Ä (–Ü, –Ñ, –á)
    def ukr_sort(text):
        alphabet = "–∞–±–≤–≥“ë–¥–µ—î–∂–∑–∏—ñ—ó–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—å—é—è"
        return [alphabet.find(char.lower()) for char in text]

    # –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ —Å–ª–æ–≤–Ω–∏–∫—É (–∑–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂—É—Ç—å—Å—è –¥–æ –∫—ñ–Ω—Ü—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏)
    students_dict["—Å—Ç—É–¥–µ–Ω—Ç–∏"].sort(key=lambda x: ukr_sort(x["–ü–Ü–ë"]))

    print("\n‚úÖ –°—Ç—É–¥–µ–Ω—Ç—ñ–≤ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ –∑–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º!")

    # –û–¥—Ä–∞–∑—É –≤–∏–∫–ª–∏–∫–∞—î —Ñ—É–Ω–∫—Ü—ñ—é –≤–∏–≤–µ–¥–µ–Ω–Ω—è, —è–∫—É –Ω–∞–ø–∏—Å–∞–≤ –ø–µ—Ä—à–∏–π —Å—Ç—É–¥–µ–Ω—Ç
    display_students(students_dict)

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –±–∞–ª–∞ –∫–æ–∂–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ (–¥–æ–¥–∞—Ç–∫–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è)
def calculate_average_grade(students_dict):
    """–û–±—á–∏—Å–ª—é—î —Å–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª –∫–æ–∂–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ —Ç–∞ —Å–µ—Ä–µ–¥–Ω—î –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–µ —Ü–∏—Ö –±–∞–ª—ñ–≤ –¥–ª—è –≤—Å—ñ—î—ó –≥—Ä—É–ø–∏."""
    print("\n--- –°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ ---")

    student_averages = []  # –°–ø–∏—Å–æ–∫ —Å–µ—Ä–µ–¥–Ω—ñ—Ö –±–∞–ª—ñ–≤ –∫–æ–∂–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞

    for s in students_dict["—Å—Ç—É–¥–µ–Ω—Ç–∏"]:
        grades = s["–ø—Ä–µ–¥–º–µ—Ç–∏"].values()
        if grades:
            # –†–∞—Ö—É—î —Å–µ—Ä–µ–¥–Ω—î –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
            avg = sum(grades) / len(grades)
            student_averages.append(avg)
            print(f"{s['–ü–Ü–ë']}: {avg:.2f}")
        else:
            print(f"{s['–ü–Ü–ë']}: –Ω–µ–º–∞—î –æ—Ü—ñ–Ω–æ–∫")

    print("-" * 30)

    # –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –≤—ñ–¥ —Å–µ—Ä–µ–¥–Ω—ñ—Ö
    if student_averages:
        group_avg = sum(student_averages) / len(student_averages)
        print(f"üëâ –°–ï–†–ï–î–ù–Ü–ô –ë–ê–õ –ì–†–£–ü–ò ({students_dict['–≥—Ä—É–ø–∞']}): {group_avg:.2f}")
    else:
        print("üëâ –°–ï–†–ï–î–ù–Ü–ô –ë–ê–õ –ì–†–£–ü–ò: –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö")

    print("-" * 30)
#---------------------------------------------------------------------------------------

# –ì–æ–ª–æ–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∏
if __name__ == "__main__":
    while True:
        print("\n–ú–µ–Ω—é:")
        print("1 - –í–∏–≤–µ—Å—Ç–∏ –≤—Å—ñ—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤")
        print("2 - –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞")
        print("3 - –í—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –ü–Ü–ë") #–¢–æ–∫–∞—Ä—î–≤ –∑–º—ñ–Ω–∏–≤ '–í–∏—Ö—ñ–¥' –Ω–∞ '–í—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –ü–Ü–ë'
        print("4 - –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª") #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
        print("5 - –í–∏—Ö—ñ–¥") #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
        choice = input("–û–±–µ—Ä—ñ—Ç—å –¥—ñ—é: ")

        if choice == "1":
            display_students(students)
        elif choice == "2":
            add_student(students)
        elif choice == "3": #–¢–æ–∫–∞—Ä—î–≤ –∑–º—ñ–Ω–∏–≤ '–í–∏—Ö—ñ–¥' –Ω–∞ '–í—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –ü–Ü–ë'
            sort_students_by_name(students)
        elif choice == "4": #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
            calculate_average_grade(students)
        elif choice == "5": #–¢–æ–∫–∞—Ä—î–≤ –¥–æ–¥–∞–≤
            print("–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.")
            break
        else:
            print("–ù–µ–≤—ñ—Ä–Ω–∏–π –≤–∏–±—ñ—Ä. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.")


